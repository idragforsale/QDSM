function loadSettings(){let e=localStorage.getItem("theme")||"orange",t=localStorage.getItem("font")||"Kanit",n=localStorage.getItem("fontSize")||"16";changeTheme(e),changeFont(t),changeFontSize(n)}function toggleGadget(){document.getElementById("gadgetPanel").classList.toggle("active")}function changeTheme(e){document.body.style.transition="background-color 0.5s ease, color 0.5s ease",document.documentElement.setAttribute("data-theme",e),document.querySelectorAll(".color-option").forEach(e=>e.classList.remove("active"));let t=document.querySelector(`[data-theme="${e}"]`);t&&t.classList.add("active"),localStorage.setItem("theme",e)}function changeFont(e){let t=document.getElementById("fontOverride");t&&t.remove();let n=document.createElement("style");n.id="fontOverride",n.innerHTML=`* { font-family: '${e}', sans-serif !important; }`,document.head.appendChild(n),document.querySelectorAll(".font-option").forEach(e=>e.classList.remove("active"));let o=document.querySelector(`[data-font="${e}"]`);o&&o.classList.add("active"),localStorage.setItem("font",e)}function changeFontSize(e){document.body.style.fontSize=e+"px";let t=document.getElementById("fontSizeValue"),n=document.getElementById("fontSizeSlider");t&&(t.textContent=e),n&&(n.value=e),localStorage.setItem("fontSize",e)}function resetTheme(){localStorage.removeItem("theme"),localStorage.removeItem("font"),localStorage.removeItem("fontSize"),changeTheme("orange"),changeFont("Kanit"),changeFontSize("16"),"undefined"!=typeof Swal?Swal.fire({icon:"success",title:"รีเซ็ตเรียบร้อย",text:"กลับไปใช้ธีมเริ่มต้นแล้ว",timer:1500,showConfirmButton:!1}):alert("รีเซ็ตการตั้งค่าเรียบร้อยแล้ว!")}!function(){let e=localStorage.getItem("theme"),t=localStorage.getItem("font"),n=localStorage.getItem("fontSize");if(e&&document.documentElement.setAttribute("data-theme",e),t){let o=document.createElement("style");o.id="fontOverride",o.innerHTML=`* { font-family: '${t}', sans-serif !important; }`,document.head.appendChild(o)}n&&(document.body.style.fontSize=n+"px")}(),window.addEventListener("DOMContentLoaded",function(){loadSettings()});